{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\blood-bank-management\\\\src\\\\components\\\\FindingBlood.js\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { GoogleMap, LoadScript, Marker, InfoWindow } from '@react-google-maps/api';\nconst FindingBlood = () => {\n  const [data, setData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  // const [selectedLocation, setSelectedLocation] = useState(null);\n  const [hoveredMarker, setHoveredMarker] = useState(null);\n  const containerStyle = {\n    width: '100%',\n    height: '400px'\n  };\n  const center = {\n    lat: -1.2921,\n    lng: 36.8219\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('http://127.0.0.1:5000/data');\n        console.log('Data type:', typeof response.data);\n        console.log('Response:', response.data);\n        if (Array.isArray(response.data)) {\n          setData(response.data);\n        } else {\n          console.error('Data received is not an array');\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    // Example filter logic: filter by Supply > 0\n    const filterData = () => {\n      const filtered = data.filter(item => item.Supply > 0);\n      console.log('Filtered Data:', filtered);\n      setFilteredData(filtered);\n    };\n    filterData();\n  }, [data]);\n  const getCoordinates = location => {\n    const locations = {\n      'Nairobi': {\n        lat: -1.286389,\n        lng: 36.817223\n      },\n      'Mombasa': {\n        lat: -4.043477,\n        lng: 39.668206\n      },\n      'Kisumu': {\n        lat: -0.091702,\n        lng: 34.768096\n      },\n      'Nakuru': {\n        lat: -0.28333,\n        lng: 36.06666\n      },\n      'Eldoret': {\n        lat: 0.51667,\n        lng: 35.28333\n      }\n    };\n    return locations[location] || center;\n  };\n  const handleMouseOver = useCallback(location => {\n    setHoveredMarker(location);\n  }, []);\n  const handleMouseOut = useCallback(() => {\n    setHoveredMarker(null);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"Blood Supply Data\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, filteredData.map((item, index) => /*#__PURE__*/React.createElement(\"li\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, item.Location, \": \", item.Supply))), /*#__PURE__*/React.createElement(LoadScript, {\n    googleMapsApiKey: \"AIzaSyD07cMGrAdZzFU1FexlCWLCWlPX-J3g6p4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(GoogleMap, {\n    mapContainerStyle: containerStyle,\n    center: center,\n    zoom: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, filteredData.map((item, index) => /*#__PURE__*/React.createElement(Marker, {\n    key: index,\n    position: getCoordinates(item.Location),\n    onMouseOver: () => handleMouseOver(item),\n    onMouseOut: handleMouseOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, hoveredMarker === item && /*#__PURE__*/React.createElement(InfoWindow, {\n    position: getCoordinates(item.Location),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, item.Location), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, \"Supply: \", item.Supply), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, \"Blood Type: \", item['Blood Type']))))))));\n};\nexport default FindingBlood;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","GoogleMap","LoadScript","Marker","InfoWindow","FindingBlood","data","setData","filteredData","setFilteredData","hoveredMarker","setHoveredMarker","containerStyle","width","height","center","lat","lng","fetchData","response","get","console","log","Array","isArray","error","filterData","filtered","filter","item","Supply","getCoordinates","location","locations","handleMouseOver","handleMouseOut","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","index","key","Location","googleMapsApiKey","mapContainerStyle","zoom","position","onMouseOver","onMouseOut"],"sources":["C:/Users/User/blood-bank-management/src/components/FindingBlood.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { GoogleMap, LoadScript, Marker, InfoWindow } from '@react-google-maps/api';\r\n\r\nconst FindingBlood = () => {\r\n  const [data, setData] = useState([]);\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  // const [selectedLocation, setSelectedLocation] = useState(null);\r\n  const [hoveredMarker, setHoveredMarker] = useState(null);\r\n\r\n  const containerStyle = {\r\n    width: '100%',\r\n    height: '400px',\r\n  };\r\n\r\n  const center = {\r\n    lat: -1.2921,\r\n    lng: 36.8219,\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get('http://127.0.0.1:5000/data');\r\n        console.log('Data type:', typeof response.data);\r\n        console.log('Response:', response.data);\r\n\r\n        if (Array.isArray(response.data)) {\r\n          setData(response.data);\r\n        } else {\r\n          console.error('Data received is not an array');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Example filter logic: filter by Supply > 0\r\n    const filterData = () => {\r\n      const filtered = data.filter(item => item.Supply > 0);\r\n      console.log('Filtered Data:', filtered);\r\n      setFilteredData(filtered);\r\n    };\r\n\r\n    filterData();\r\n  }, [data]);\r\n\r\n  const getCoordinates = (location) => {\r\n    const locations = {\r\n      'Nairobi': { lat: -1.286389, lng: 36.817223 },\r\n      'Mombasa': { lat: -4.043477, lng: 39.668206 },\r\n      'Kisumu': { lat: -0.091702, lng: 34.768096 },\r\n      'Nakuru': { lat: -0.28333, lng: 36.06666 },\r\n      'Eldoret': { lat: 0.51667, lng: 35.28333 },\r\n    };\r\n    return locations[location] || center;\r\n  };\r\n\r\n  const handleMouseOver = useCallback((location) => {\r\n    setHoveredMarker(location);\r\n  }, []);\r\n\r\n  const handleMouseOut = useCallback(() => {\r\n    setHoveredMarker(null);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Blood Supply Data</h1>\r\n      <ul>\r\n        {filteredData.map((item, index) => (\r\n          <li key={index}>{item.Location}: {item.Supply}</li>\r\n        ))}\r\n      </ul>\r\n      <LoadScript googleMapsApiKey=\"AIzaSyD07cMGrAdZzFU1FexlCWLCWlPX-J3g6p4\">\r\n        <GoogleMap mapContainerStyle={containerStyle} center={center} zoom={6}>\r\n          {filteredData.map((item, index) => (\r\n            <Marker\r\n              key={index}\r\n              position={getCoordinates(item.Location)}\r\n              onMouseOver={() => handleMouseOver(item)}\r\n              onMouseOut={handleMouseOut}\r\n            >\r\n              {hoveredMarker === item && (\r\n                <InfoWindow position={getCoordinates(item.Location)}>\r\n                  <div>\r\n                    <h3>{item.Location}</h3>\r\n                    <p>Supply: {item.Supply}</p>\r\n                    <p>Blood Type: {item['Blood Type']}</p>\r\n                  </div>\r\n                </InfoWindow>\r\n              )}\r\n            </Marker>\r\n          ))}\r\n        </GoogleMap>\r\n      </LoadScript>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FindingBlood;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}