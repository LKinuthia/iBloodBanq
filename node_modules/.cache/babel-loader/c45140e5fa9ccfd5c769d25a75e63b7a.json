{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\blood-bank-management\\\\src\\\\components\\\\FindingBlood.js\";\n// src/FindBlood.js\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\nconst FindBlood = () => {\n  // const [data, setData] = useState([]);\n  // const [map, setMap] = useState(null);\n\n  useEffect(() => {\n    // Fetch data from the Flask API\n    axios.get('http://127.0.0.1:5000/data').then(response => {\n      // setData(response.data);\n      console.log('Data fetched:', response.data);\n      initMap(response.data);\n    }).catch(error => {\n      console.error('There was an error fetching the data!', error);\n    });\n  }, []);\n  const initMap = data => {\n    // Ensure the map element is available\n    const mapElement = document.getElementById('map');\n    if (!mapElement) {\n      console.error('Map element not found');\n      return;\n    }\n    console.log('Initializing map'); // Debugging line\n\n    // Initialize the map\n    const map = new window.google.maps.Map(mapElement, {\n      zoom: 6,\n      center: {\n        lat: -1.286389,\n        lng: 36.817223\n      }\n    });\n    // setMap(map);\n\n    // Add markers to the map\n    data.forEach(record => {\n      const latLng = {\n        lat: record.Latitude,\n        lng: record.Longitude\n      };\n      const donations = record.Donations;\n      const usage = record.Usage;\n      const supply = record.Supply;\n      const event = record.Event;\n      console.log('Adding marker for:', record.Location); // Debugging line\n      const marker = new window.google.maps.Marker({\n        position: latLng,\n        map: map,\n        title: `${record.Location}: ${donations} Donations, ${usage} Usage, ${supply} Supply\\nEvent: ${event}`\n      });\n      const infoWindow = new window.google.maps.InfoWindow({\n        content: `<div><strong>${record.Location}</strong><br>Donations: ${donations}<br>Usage: ${usage}<br>Supply: ${supply}<br>Event: ${event}</div>`\n      });\n      marker.addListener('click', function () {\n        infoWindow.open(map, marker);\n      });\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Blood Supply and Demand in Kenya\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"map\",\n    style: {\n      height: '500px',\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }));\n};\nexport default FindBlood;","map":{"version":3,"names":["React","useEffect","axios","FindBlood","get","then","response","console","log","data","initMap","catch","error","mapElement","document","getElementById","map","window","google","maps","Map","zoom","center","lat","lng","forEach","record","latLng","Latitude","Longitude","donations","Donations","usage","Usage","supply","Supply","event","Event","Location","marker","Marker","position","title","infoWindow","InfoWindow","content","addListener","open","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","id","style","height","width"],"sources":["C:/Users/User/blood-bank-management/src/components/FindingBlood.js"],"sourcesContent":["// src/FindBlood.js\r\nimport React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst FindBlood = () => {\r\n    // const [data, setData] = useState([]);\r\n    // const [map, setMap] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Fetch data from the Flask API\r\n        axios.get('http://127.0.0.1:5000/data')\r\n            .then(response => {\r\n                // setData(response.data);\r\n                console.log('Data fetched:', response.data);\r\n                initMap(response.data);\r\n            })\r\n            .catch(error => {\r\n                console.error('There was an error fetching the data!', error);\r\n            });\r\n    }, []);\r\n\r\n    const initMap = (data) => {\r\n        // Ensure the map element is available\r\n        const mapElement = document.getElementById('map');\r\n        if (!mapElement) {\r\n            console.error('Map element not found');\r\n            return;\r\n        }\r\n\r\n        console.log('Initializing map'); // Debugging line\r\n\r\n        // Initialize the map\r\n        const map = new window.google.maps.Map(mapElement, {\r\n            zoom: 6,\r\n            center: { lat: -1.286389, lng: 36.817223 }\r\n        });\r\n        // setMap(map);\r\n\r\n        // Add markers to the map\r\n        data.forEach(record => {\r\n            const latLng = { lat: record.Latitude, lng: record.Longitude };\r\n            const donations = record.Donations;\r\n            const usage = record.Usage;\r\n            const supply = record.Supply;\r\n            const event = record.Event;\r\n\r\n            console.log('Adding marker for:', record.Location); // Debugging line\r\n            const marker = new window.google.maps.Marker({\r\n                position: latLng,\r\n                map: map,\r\n                title: `${record.Location}: ${donations} Donations, ${usage} Usage, ${supply} Supply\\nEvent: ${event}`\r\n            });\r\n\r\n            const infoWindow = new window.google.maps.InfoWindow({\r\n                content: `<div><strong>${record.Location}</strong><br>Donations: ${donations}<br>Usage: ${usage}<br>Supply: ${supply}<br>Event: ${event}</div>`\r\n            });\r\n\r\n            marker.addListener('click', function () {\r\n                infoWindow.open(map, marker);\r\n            });\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Blood Supply and Demand in Kenya</h1>\r\n            <div id=\"map\" style={{ height: '500px', width: '100%' }}></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FindBlood;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}